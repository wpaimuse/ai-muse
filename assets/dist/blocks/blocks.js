var aa=Object.defineProperty;var la=(H,y,se)=>y in H?aa(H,y,{enumerable:!0,configurable:!0,writable:!0,value:se}):H[y]=se;var w=(H,y,se)=>la(H,typeof y!="symbol"?y+"":y,se);(function(H,y,se,b,Ae,E,ca,Pe,qt,Pr){"use strict";var wr;var I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Or(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xt={exports:{}},Oe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr=y,Ir=Symbol.for("react.element"),Rr=Symbol.for("react.fragment"),Mr=Object.prototype.hasOwnProperty,jr=Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dr={key:!0,ref:!0,__self:!0,__source:!0};function Zt(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Mr.call(e,r)&&!Dr.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ir,type:t,key:s,ref:o,props:i,_owner:jr.current}}Oe.Fragment=Rr,Oe.jsx=Zt,Oe.jsxs=Zt,Xt.exports=Oe;var d=Xt.exports;function Lr(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function it(t,e){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},it(t,e)}function Br(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,it(t,e)}const Kt={disabled:!1},Yt=y.createContext(null);var zr=function(e){return e.scrollTop},he="unmounted",oe="exited",ae="entering",de="entered",st="exiting",Y=function(t){Br(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=oe,s.appearStatus=ae):l=de:r.unmountOnExit||r.mountOnEnter?l=he:l=oe,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===he?{status:oe}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==ae&&o!==de&&(s=ae):(o===ae||o===de)&&(s=st)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===ae){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Pe.findDOMNode(this);o&&zr(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===oe&&this.setState({status:he})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Pe.findDOMNode(this),a],u=l[0],c=l[1],f=this.getTimeouts(),g=a?f.appear:f.enter;if(!i&&!o||Kt.disabled){this.safeSetState({status:de},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:ae},function(){s.props.onEntering(u,c),s.onTransitionEnd(g,function(){s.safeSetState({status:de},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Pe.findDOMNode(this);if(!s||Kt.disabled){this.safeSetState({status:oe},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:st},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:oe},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Pe.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===he)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=Lr(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return y.createElement(Yt.Provider,{value:null},typeof o=="function"?o(i,a):y.cloneElement(y.Children.only(o),a))},e}(y.Component);Y.contextType=Yt,Y.propTypes={};function fe(){}Y.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fe,onEntering:fe,onEntered:fe,onExit:fe,onExiting:fe,onExited:fe},Y.UNMOUNTED=he,Y.EXITED=oe,Y.ENTERING=ae,Y.ENTERED=de,Y.EXITING=st;/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $r={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=(t,e,n,r)=>{const i=y.forwardRef(({color:s="currentColor",size:o=24,stroke:a=2,title:l,className:u,children:c,...f},g)=>y.createElement("svg",{ref:g,...$r[t],width:o,height:o,className:["tabler-icon",`tabler-icon-${e}`,u].join(" "),...t==="filled"?{fill:s}:{strokeWidth:a,stroke:s},...f},[l&&y.createElement("title",{key:"svg-title"},l),...r.map(([p,h])=>y.createElement(p,h)),...Array.isArray(c)?c:[c]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qt=W("outline","arrows-down-up","IconArrowsDownUp",[["path",{d:"M17 3l0 18",key:"svg-0"}],["path",{d:"M10 18l-3 3l-3 -3",key:"svg-1"}],["path",{d:"M7 21l0 -18",key:"svg-2"}],["path",{d:"M20 6l-3 -3l-3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hr=W("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fr=W("outline","chevron-left","IconChevronLeft",[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ne=W("outline","chevron-right","IconChevronRight",[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ur=W("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wr=W("outline","crown","IconCrown",[["path",{d:"M12 6l4 6l5 -4l-2 10h-14l-2 -10l5 4z",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gr=W("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vr=W("outline","pin","IconPin",[["path",{d:"M15 4.5l-4 4l-4 1.5l-1.5 1.5l7 7l1.5 -1.5l1.5 -4l4 -4",key:"svg-0"}],["path",{d:"M9 15l-4.5 4.5",key:"svg-1"}],["path",{d:"M14.5 4l5.5 5.5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qr=W("outline","x","IconX",[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.17.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xr=W("filled","pinned-filled","IconPinnedFilled",[["path",{d:"M16 3a1 1 0 0 1 .117 1.993l-.117 .007v4.764l1.894 3.789a1 1 0 0 1 .1 .331l.006 .116v2a1 1 0 0 1 -.883 .993l-.117 .007h-4v4a1 1 0 0 1 -1.993 .117l-.007 -.117v-4h-4a1 1 0 0 1 -.993 -.883l-.007 -.117v-2a1 1 0 0 1 .06 -.34l.046 -.107l1.894 -3.791v-4.762a1 1 0 0 1 -.117 -1.993l.117 -.007h8z",key:"svg-0"}]]);function Zr(t){const{attributes:e,setAttributes:n,expand:r,setExpand:i,handleCancel:s}=t,o=()=>{n({...e,pinned:!e.pinned})};return d.jsxs("div",{className:"waim__header",children:[d.jsx("img",{src:window.WPAIMuseBlocks.assets.icon_36,width:28,height:28}),d.jsxs("div",{className:"waim__header-actions",children:[d.jsx(E.Tooltip,{text:b.__(e.pinned?"Unpin":"Pin it","aimuse"),children:d.jsx("div",{className:"waim__header-actionBtn",onClick:()=>o(),children:e.pinned?d.jsx(Xr,{color:"#2271B1",fill:"#2271B1",style:{color:"#2271B1"},size:20}):d.jsx(Vr,{size:20})})}),d.jsx(E.Tooltip,{text:b.__(r?"Collapse":"Expand","aimuse"),children:d.jsx("div",{className:"waim__header-actionBtn",onClick:()=>i(!r),children:r?d.jsx(Ur,{size:20}):d.jsx(Hr,{size:20})})}),d.jsx(E.Tooltip,{text:b.__("Cancel","aimuse"),children:d.jsx("div",{className:"waim__header-actionBtn",onClick:()=>s(),children:d.jsx(qr,{size:20})})})]})]})}const G=({title:t,variant:e,isUpperCase:n,disabled:r,onClick:i,className:s,icon:o,loading:a,children:l,style:u,...c})=>{const f=["waim__btn",`btn-${e||"default"}`,s];return n&&f.push("btn-uppercase"),d.jsxs("button",{disabled:r,className:f.join(" "),onClick:i,style:u,...c,children:[a&&d.jsx("div",{className:"waim__loader"}),t&&d.jsx("span",{children:t}),o&&d.jsx(d.Fragment,{children:o}),l&&d.jsx(d.Fragment,{children:l})]})};function Kr(t){const{handleCancel:e,handleGenerate:n,engineIsRunning:r,messages:i,page:s,generateIsDisabled:o,hasOriginalContent:a}=t,l=()=>r?b.__("Generating...","aimuse"):!a&&s===1&&i[s-1].content.trim().length?b.__("Regenerate","aimuse"):i.length===s?b.__("Generate","aimuse"):b.__("Regenerate","aimuse");return d.jsxs("div",{className:"waim__footer",children:[d.jsx(G,{title:b.__("Cancel","aimuse"),variant:"dimmed",onClick:()=>e()}),d.jsx(G,{title:l(),loading:r,disabled:o,onClick:()=>n()})]})}var ge=new Map;function Yr(t){var e=ge.get(t);e&&e.destroy()}function Qr(t){var e=ge.get(t);e&&e.update()}var me=null;typeof window>"u"?((me=function(t){return t}).destroy=function(t){return t},me.update=function(t){return t}):((me=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(n){return function(r){if(r&&r.nodeName&&r.nodeName==="TEXTAREA"&&!ge.has(r)){var i,s=null,o=window.getComputedStyle(r),a=(i=r.value,function(){u({testForHeightReduction:i===""||!r.value.startsWith(i),restoreTextAlign:null}),i=r.value}),l=(function(f){r.removeEventListener("autosize:destroy",l),r.removeEventListener("autosize:update",c),r.removeEventListener("input",a),window.removeEventListener("resize",c),Object.keys(f).forEach(function(g){return r.style[g]=f[g]}),ge.delete(r)}).bind(r,{height:r.style.height,resize:r.style.resize,textAlign:r.style.textAlign,overflowY:r.style.overflowY,overflowX:r.style.overflowX,wordWrap:r.style.wordWrap});r.addEventListener("autosize:destroy",l),r.addEventListener("autosize:update",c),r.addEventListener("input",a),window.addEventListener("resize",c),r.style.overflowX="hidden",r.style.wordWrap="break-word",ge.set(r,{destroy:l,update:c}),c()}function u(f){var g,p,h=f.restoreTextAlign,m=h===void 0?null:h,v=f.testForHeightReduction,k=v===void 0||v,_=o.overflowY;if(r.scrollHeight!==0&&(o.resize==="vertical"?r.style.resize="none":o.resize==="both"&&(r.style.resize="horizontal"),k&&(g=function(P){for(var R=[];P&&P.parentNode&&P.parentNode instanceof Element;)P.parentNode.scrollTop&&R.push([P.parentNode,P.parentNode.scrollTop]),P=P.parentNode;return function(){return R.forEach(function(T){var A=T[0],$=T[1];A.style.scrollBehavior="auto",A.scrollTop=$,A.style.scrollBehavior=null})}}(r),r.style.height=""),p=o.boxSizing==="content-box"?r.scrollHeight-(parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)):r.scrollHeight+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),o.maxHeight!=="none"&&p>parseFloat(o.maxHeight)?(o.overflowY==="hidden"&&(r.style.overflow="scroll"),p=parseFloat(o.maxHeight)):o.overflowY!=="hidden"&&(r.style.overflow="hidden"),r.style.height=p+"px",m&&(r.style.textAlign=m),g&&g(),s!==p&&(r.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),s=p),_!==o.overflow&&!m)){var O=o.textAlign;o.overflow==="hidden"&&(r.style.textAlign=O==="start"?"end":"start"),u({restoreTextAlign:O,testForHeightReduction:!0})}}function c(){u({testForHeightReduction:!0,restoreTextAlign:null})}}(n)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],Yr),t},me.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],Qr),t});var Jt=me;function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ot.apply(null,arguments)}var en=["shift","alt","meta","mod","ctrl"],Jr={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function J(t){return(t&&Jr[t]||t||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function ei(t){return en.includes(t)}function at(t,e){return e===void 0&&(e=","),t.split(e)}function lt(t,e,n){e===void 0&&(e="+");var r=t.toLocaleLowerCase().split(e).map(function(o){return J(o)}),i={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},s=r.filter(function(o){return!en.includes(o)});return ot({},i,{keys:s,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(t){t.key!==void 0&&tn([J(t.key),J(t.code)])}),document.addEventListener("keyup",function(t){t.key!==void 0&&nn([J(t.key),J(t.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){ee.clear()})})();var ee=new Set;function ct(t){return Array.isArray(t)}function ti(t,e){e===void 0&&(e=",");var n=ct(t)?t:t.split(e);return n.every(function(r){return ee.has(r.trim().toLowerCase())})}function tn(t){var e=Array.isArray(t)?t:[t];ee.has("meta")&&ee.forEach(function(n){return!ei(n)&&ee.delete(n.toLowerCase())}),e.forEach(function(n){return ee.add(n.toLowerCase())})}function nn(t){var e=Array.isArray(t)?t:[t];t==="meta"?ee.clear():e.forEach(function(n){return ee.delete(n.toLowerCase())})}function ni(t,e,n){(typeof n=="function"&&n(t,e)||n===!0)&&t.preventDefault()}function ri(t,e,n){return typeof n=="function"?n(t,e):n===!0||n===void 0}function ii(t){return rn(t,["input","textarea","select"])}function rn(t,e){var n=t.target;e===void 0&&(e=!1);var r=n&&n.tagName;return ct(e)?!!(r&&e&&e.some(function(i){return i.toLowerCase()===r.toLowerCase()})):!!(r&&e&&e===!0)}function si(t,e){return t.length===0&&e?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):e?t.some(function(n){return e.includes(n)})||t.includes("*"):!0}var oi=function(e,n,r){r===void 0&&(r=!1);var i=n.alt,s=n.meta,o=n.mod,a=n.shift,l=n.ctrl,u=n.keys,c=e.key,f=e.code,g=e.ctrlKey,p=e.metaKey,h=e.shiftKey,m=e.altKey,v=J(f),k=c.toLowerCase();if(!(u!=null&&u.includes(v))&&!(u!=null&&u.includes(k))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(v))return!1;if(!r){if(i===!m&&k!=="alt"||a===!h&&k!=="shift")return!1;if(o){if(!p&&!g)return!1}else if(s===!p&&k!=="meta"&&k!=="os"||l===!g&&k!=="ctrl"&&k!=="control")return!1}return u&&u.length===1&&(u.includes(k)||u.includes(v))?!0:u?ti(u):!u},sn=y.createContext(void 0),ai=function(){return y.useContext(sn)};function li(t){var e=t.addHotkey,n=t.removeHotkey,r=t.children;return d.jsx(sn.Provider,{value:{addHotkey:e,removeHotkey:n},children:r})}function ut(t,e){return t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(t).length===Object.keys(e).length&&Object.keys(t).reduce(function(n,r){return n&&ut(t[r],e[r])},!0):t===e}var on=y.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),ci=function(){return y.useContext(on)},an=function(e){var n=e.initiallyActiveScopes,r=n===void 0?["*"]:n,i=e.children,s=y.useState((r==null?void 0:r.length)>0?r:["*"]),o=s[0],a=s[1],l=y.useState([]),u=l[0],c=l[1],f=y.useCallback(function(v){a(function(k){return k.includes("*")?[v]:Array.from(new Set([].concat(k,[v])))})},[]),g=y.useCallback(function(v){a(function(k){return k.filter(function(_){return _!==v}).length===0?["*"]:k.filter(function(_){return _!==v})})},[]),p=y.useCallback(function(v){a(function(k){return k.includes(v)?k.filter(function(_){return _!==v}).length===0?["*"]:k.filter(function(_){return _!==v}):k.includes("*")?[v]:Array.from(new Set([].concat(k,[v])))})},[]),h=y.useCallback(function(v){c(function(k){return[].concat(k,[v])})},[]),m=y.useCallback(function(v){c(function(k){return k.filter(function(_){return!ut(_,v)})})},[]);return d.jsx(on.Provider,{value:{enabledScopes:o,hotkeys:u,enableScope:f,disableScope:g,toggleScope:p},children:d.jsx(li,{addHotkey:h,removeHotkey:m,children:i})})};function ui(t){var e=y.useRef(void 0);return ut(e.current,t)||(e.current=t),e.current}var ln=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},di=typeof window<"u"?y.useLayoutEffect:y.useEffect;function Ie(t,e,n,r){var i=y.useState(null),s=i[0],o=i[1],a=y.useRef(!1),l=n instanceof Array?r instanceof Array?void 0:r:n,u=ct(t)?t.join(l==null?void 0:l.splitKey):t,c=n instanceof Array?n:r instanceof Array?r:void 0,f=y.useCallback(e,c??[]),g=y.useRef(f);c?g.current=f:g.current=e;var p=ui(l),h=ci(),m=h.enabledScopes,v=ai();return di(function(){if(!((p==null?void 0:p.enabled)===!1||!si(m,p==null?void 0:p.scopes))){var k=function(T,A){var $;if(A===void 0&&(A=!1),!(ii(T)&&!rn(T,p==null?void 0:p.enableOnFormTags))){if(s!==null){var Q=s.getRootNode();if((Q instanceof Document||Q instanceof ShadowRoot)&&Q.activeElement!==s&&!s.contains(Q.activeElement)){ln(T);return}}($=T.target)!=null&&$.isContentEditable&&!(p!=null&&p.enableOnContentEditable)||at(u,p==null?void 0:p.splitKey).forEach(function(pe){var Se,re=lt(pe,p==null?void 0:p.combinationKey);if(oi(T,re,p==null?void 0:p.ignoreModifiers)||(Se=re.keys)!=null&&Se.includes("*")){if(p!=null&&p.ignoreEventWhen!=null&&p.ignoreEventWhen(T)||A&&a.current)return;if(ni(T,re,p==null?void 0:p.preventDefault),!ri(T,re,p==null?void 0:p.enabled)){ln(T);return}g.current(T,re),A||(a.current=!0)}})}},_=function(T){T.key!==void 0&&(tn(J(T.code)),((p==null?void 0:p.keydown)===void 0&&(p==null?void 0:p.keyup)!==!0||p!=null&&p.keydown)&&k(T))},O=function(T){T.key!==void 0&&(nn(J(T.code)),a.current=!1,p!=null&&p.keyup&&k(T,!0))},P=s||(l==null?void 0:l.document)||document;return P.addEventListener("keyup",O),P.addEventListener("keydown",_),v&&at(u,p==null?void 0:p.splitKey).forEach(function(R){return v.addHotkey(lt(R,p==null?void 0:p.combinationKey,p==null?void 0:p.description))}),function(){P.removeEventListener("keyup",O),P.removeEventListener("keydown",_),v&&at(u,p==null?void 0:p.splitKey).forEach(function(R){return v.removeHotkey(lt(R,p==null?void 0:p.combinationKey,p==null?void 0:p.description))})}}},[s,u,p,m]),o}const cn=window.WPAIMuseBlocks.templates,fi=t=>{const{prompt:e,onRemove:n}=t,r=cn.find(s=>s.slug==e.slug),i=e.option?`${r==null?void 0:r.name}: ${e.option}`:r==null?void 0:r.name;return d.jsxs("div",{className:"waim__chip",children:[d.jsx("div",{className:"chip-content",children:i}),d.jsx(E.Tooltip,{text:b.__("Remove","aimuse"),children:d.jsx("div",{className:"chip-close",onClick:n,children:d.jsx("svg",{className:"chip-svg",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:d.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})})})})]})};function pi(t){const{message:e,engineIsRunning:n,editMessage:r}=t,i=c=>{var f;r({...e,prompts:(f=e.prompts)==null?void 0:f.filter(g=>g.slug!=c.slug)})},s=c=>{r({...e,prompts:[...e.prompts||[],c]})},o=c=>{r({...e,customPrompt:c})},a=()=>{var c,f;return((c=e.prompts)==null?void 0:c.length)==0?null:d.jsx("div",{className:"waim__modifyArea-chips",children:(f=e.prompts)==null?void 0:f.map(g=>d.jsx(fi,{prompt:g,onRemove:()=>i(g)},`${e.id}_${g.slug}`))})},l=()=>d.jsx(E.Dropdown,{contentClassName:"waim__dropdown",popoverProps:{focusOnMount:!0,onClick:c=>c.stopPropagation()},renderToggle:({isOpen:c,onToggle:f})=>(Ie("alt",f,{enableOnFormTags:!0,scopes:["waim-block"],preventDefault:!0}),d.jsx(G,{variant:"outline",title:b.__("Select Prompts","aimuse"),onClick:f,"aria-expanded":c,icon:d.jsx(Qt,{size:14})})),renderContent:({onToggle:c})=>d.jsx(E.MenuGroup,{label:b.__("Select Prompts","aimuse"),hideSeparator:!0,children:cn.map(f=>{var p;const g=(p=e.prompts)==null?void 0:p.some(h=>h.slug===f.slug);return f.option?d.jsx(E.Dropdown,{contentClassName:"waim__dropdown",popoverProps:{focusOnMount:!0,onClick:h=>h.stopPropagation()},renderToggle:({isOpen:h,onToggle:m})=>d.jsx(E.MenuItem,{icon:d.jsx(Ne,{style:{fill:"none",width:16,height:16},stroke:1.5}),iconPosition:"right",onClick:v=>{v.stopPropagation(),m()},"aria-expanded":h,disabled:g,children:f.name}),renderContent:()=>{var h,m;return d.jsx(d.Fragment,{children:d.jsx(E.MenuGroup,{label:`Select ${(h=f.option)==null?void 0:h.name}`,children:(m=f.option)==null?void 0:m.values.map(v=>d.jsx(E.MenuItem,{disabled:g,onClick:k=>{k.stopPropagation(),s({slug:f.slug,option:v}),c()},children:v},`filterBtn_${e.id}_${f.slug}_${v}`))})})}},`filterBtn_${e.id}_${f.slug}`):d.jsx(E.MenuItem,{disabled:g,onClick:h=>{h.stopPropagation(),s({slug:f.slug}),c()},children:f.name},`filterBtn_${e.id}_${f.slug}`)})})}),u=y.useRef(null);return y.useEffect(()=>{u.current!=null&&Jt(u.current)},[]),y.useEffect(()=>{var c;u.current==null&&n||(c=u.current)==null||c.focus()},[n]),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"waim__modifyArea",children:[d.jsxs("div",{className:"waim__modifyArea-header",children:[d.jsx("label",{className:"waim__label",children:b.__("Modify With Prompts","aimuse")}),l()]}),a()]}),d.jsxs("div",{children:[d.jsx("label",{className:"waim__label",children:b.__("Custom Prompt","aimuse")}),d.jsx("textarea",{ref:u,"aria-label":b.__("Enter a custom prompt here","aimuse"),placeholder:b.__("Enter a custom prompt here","aimuse"),className:"waim__customPrompt",onChange:c=>o(c.target.value),value:e.customPrompt,disabled:n})]})]})}const un=window.WPAIMuseBlocks.templates,hi=t=>{const{prompt:e,onRemove:n}=t,r=un.find(s=>s.slug==e.slug),i=e.option?`${r==null?void 0:r.name}: ${e.option}`:r==null?void 0:r.name;return d.jsxs("div",{className:"waim__chip",children:[d.jsx("div",{className:"chip-content",children:i}),d.jsx(E.Tooltip,{text:b.__("Remove","aimuse"),children:d.jsx("div",{className:"chip-close",onClick:n,children:d.jsx("svg",{className:"chip-svg",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:d.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})})})})]})};function gi(t){const{onSubmit:e,handleCancel:n}=t,[r,i]=y.useState([]),[s,o]=y.useState(""),a=p=>{i(r.filter(h=>h.slug!=p.slug))},l=p=>{i([...r,p])},u=p=>{o(p)},c=()=>r.length==0?null:d.jsx("div",{className:"waim__modifyArea-chips",children:r.map(p=>d.jsx(hi,{prompt:p,onRemove:()=>a(p)},`new_block_modify_area_${p.slug}`))}),f=()=>d.jsx(E.Dropdown,{contentClassName:"waim__dropdown",popoverProps:{focusOnMount:!0,onClick:p=>p.stopPropagation()},renderToggle:({isOpen:p,onToggle:h})=>d.jsx(G,{variant:"outline",title:b.__("Select Prompts","aimuse"),onClick:h,"aria-expanded":p,icon:d.jsx(Qt,{size:14})}),renderContent:({onToggle:p})=>d.jsx(E.MenuGroup,{label:b.__("Select Prompts","aimuse"),hideSeparator:!0,children:un.map(h=>{const m=r.some(v=>v.slug===h.slug);return h.option?d.jsx(E.Dropdown,{contentClassName:"waim__dropdown",popoverProps:{focusOnMount:!0,onClick:v=>v.stopPropagation()},renderToggle:({isOpen:v,onToggle:k})=>d.jsx(E.MenuItem,{icon:d.jsx(Ne,{style:{fill:"none",width:16,height:16},stroke:1.5}),iconPosition:"right",onClick:_=>{_.stopPropagation(),k()},"aria-expanded":v,disabled:m,children:h.name}),renderContent:()=>{var v,k;return d.jsx(d.Fragment,{children:d.jsx(E.MenuGroup,{label:`Select ${(v=h.option)==null?void 0:v.name}`,children:(k=h.option)==null?void 0:k.values.map(_=>d.jsx(E.MenuItem,{disabled:m,onClick:O=>{O.stopPropagation(),l({slug:h.slug,option:_}),p()},children:_},`new_block_modify_area_filterBtn_${h.slug}_${_}`))})})}},`new_block_modify_area_filterBtn_${h.slug}`):d.jsx(E.MenuItem,{disabled:m,onClick:v=>{v.stopPropagation(),l({slug:h.slug}),p()},children:h.name},`new_block_modify_area_filterBtn_${h.slug}`)})})}),g=y.useRef(null);return y.useEffect(()=>{Jt(g.current)},[]),Ie("ctrl+enter",()=>{e({customPrompt:s,prompts:r})},{enableOnFormTags:!0,scopes:["waim-new-block"]}),d.jsxs(an,{initiallyActiveScopes:["waim-new-block"],children:[d.jsxs("div",{className:"waim__modifyArea",children:[d.jsxs("div",{className:"waim__modifyArea-header",children:[d.jsx("label",{className:"waim__label",children:b.__("Modify With Prompts","aimuse")}),f()]}),c()]}),d.jsxs("div",{children:[d.jsx("label",{className:"waim__label",children:b.__("Custom Prompt","aimuse")}),d.jsx("textarea",{ref:g,"aria-label":b.__("Enter a custom prompt here","aimuse"),placeholder:b.__("Enter a custom prompt here","aimuse"),className:"waim__customPrompt",onChange:p=>u(p.target.value),value:s})]}),d.jsxs("div",{className:"waim__footer",children:[d.jsx(G,{title:b.__("Cancel","aimuse"),variant:"dimmed",onClick:()=>n()}),d.jsx(G,{title:b.__("Generate","aimuse"),disabled:s.length===0&&r.length===0,onClick:()=>e({customPrompt:s,prompts:r})})]})]})}async function mi(t,e){const n=t.getReader();let r;for(;!(r=await n.read()).done;)e(r.value)}function vi(t){let e,n,r,i=!1;return function(o){e===void 0?(e=o,n=0,r=-1):e=ki(e,o);const a=e.length;let l=0;for(;n<a;){i&&(e[n]===10&&(l=++n),i=!1);let u=-1;for(;n<a&&u===-1;++n)switch(e[n]){case 58:r===-1&&(r=n-l);break;case 13:i=!0;case 10:u=n;break}if(u===-1)break;t(e.subarray(l,u),r),l=n,r=-1}l===a?e=void 0:l!==0&&(e=e.subarray(l),n-=l)}}function yi(t,e,n){let r=dn();const i=new TextDecoder;return function(o,a){if(o.length===0)n==null||n(r),r=dn();else if(a>0){const l=i.decode(o.subarray(0,a)),u=a+(o[a+1]===32?2:1),c=i.decode(o.subarray(u));switch(l){case"data":r.data=r.data?r.data+`
`+c:c;break;case"event":r.event=c;break;case"id":t(r.id=c);break;case"retry":const f=parseInt(c,10);isNaN(f)||e(r.retry=f);break}}}}function ki(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function dn(){return{data:"",event:"",id:"",retry:void 0}}var xi=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Re="text/event-stream",bi=1e3,fn="last-event-id";function wi(t,e){var{signal:n,headers:r,onopen:i,onmessage:s,onclose:o,onerror:a,openWhenHidden:l,fetch:u}=e,c=xi(e,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((f,g)=>{const p=Object.assign({},r);p.accept||(p.accept=Re);let h;function m(){h.abort(),document.hidden||R()}l||document.addEventListener("visibilitychange",m);let v=bi,k=0;function _(){document.removeEventListener("visibilitychange",m),window.clearTimeout(k),h.abort()}n==null||n.addEventListener("abort",()=>{_(),f()});const O=u??window.fetch,P=i??Ei;async function R(){var T;h=new AbortController;try{const A=await O(t,Object.assign(Object.assign({},c),{headers:p,signal:h.signal}));await P(A),await mi(A.body,vi(yi($=>{$?p[fn]=$:delete p[fn]},$=>{v=$},s))),o==null||o(),_(),f()}catch(A){if(!h.signal.aborted)try{const $=(T=a==null?void 0:a(A))!==null&&T!==void 0?T:v;window.clearTimeout(k),k=window.setTimeout(R,$)}catch($){_(),g($)}}}R()})}function Ei(t){const e=t.headers.get("content-type");if(!(e!=null&&e.startsWith(Re)))throw new Error(`Expected content-type to be ${Re}, Actual: ${e}`)}function _i(t=16){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";return Array(t).fill(null).map(()=>e[Math.floor(Math.random()*e.length)]).join("")}class Ti{constructor(){w(this,"promise");w(this,"resolve",()=>{});w(this,"reject",()=>{});this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ci extends EventTarget{constructor(n){super();w(this,"controller");w(this,"options");w(this,"startDate");this.controller=new AbortController,this.options=n,this.startDate=Date.now(),this.init()}static async check(){const n=new Ti,r=await fetch(`${window.WPAIMuse.api_base}/admin/tests/stream`,{method:"GET",headers:{"X-WP-Nonce":window.WPAIMuse.nonce}});if(r.status!==200)throw new Error("Error! Response code: "+r.status);const i=r.body;if(!i)return!1;const s=i.getReader(),o=[];for(;;){const{done:u}=await s.read();if(o.push(Date.now()),u)break}const a=o.reduce((u,c)=>u+c,0)/o.length;return Math.abs(a-Date.now())>100?n.resolve(!0):n.resolve(!1),n.promise}onMessage(n){const r=JSON.parse(n.data);this.dispatchEvent(new CustomEvent(n.event,{detail:r.message}))}onClose(){if(this.options.data.isRetry){this.options.data.isRetry=!1;return}this.dispatchEvent(new Event("close"))}onError(n){this.dispatchEvent(new CustomEvent("error",{detail:n}))}handleTimeout(n){n.status===504&&(this.options.data.timeout=Date.now()-this.startDate,this.options.data.timeout=this.options.data.timeout/1e3,this.options.data.timeout=Math.round(this.options.data.timeout*.7)),console.error("Gateway timeout reconnecting..."),this.options.data.isRetry=!0,this.init()}async handleError(n){if(n.status>=400&&n.status<=500&&![413,422,429].includes(n.status)){if(n.status===403)return this.throwError([{message:"Error! You are not authorized to generate content."}]);try{const r=await n.json();this.throwError(r==null?void 0:r.errors)}catch(r){this.throwError([{message:r.message}])}}else this.throwError([{message:`Error! Response code: ${n.status}`}]);this.controller.abort()}handleSuccess(){this.dispatchEvent(new Event("open"))}async onOpen(n){var r;return[504,204].includes(n.status)?this.handleTimeout(n):n.ok&&((r=n.headers.get("content-type"))!=null&&r.includes(Re))?this.handleSuccess():this.handleError(n)}async init(){this.startDate=Date.now(),await wi(this.options.url,{method:this.options.method??"GET",body:JSON.stringify(this.options.data),openWhenHidden:!0,headers:this.options.headers,signal:this.controller.signal,onopen:this.onOpen.bind(this),onmessage:this.onMessage.bind(this),onclose:this.onClose.bind(this),onerror:this.onError.bind(this)})}stop(){this.controller.abort(),this.dispatchEvent(new CustomEvent("close"))}throwError(n){this.dispatchEvent(new CustomEvent("error",{detail:n}))}}class dt extends EventTarget{constructor(){super();w(this,"sse",null);w(this,"stream",null);w(this,"stopping",!1)}static async build(n){const r=new dt;return r.sse=new Ci(n),r.sse.addEventListener("error",i=>{r.dispatchEvent(new CustomEvent("error",{detail:i.detail}))}),r.sse.addEventListener("open",()=>{r.dispatchEvent(new Event("open"))}),r.stream||(r.stream=r.sse),r}addEventListener(n,r,i){var s;super.addEventListener(n,r,i),(s=this.stream)==null||s.addEventListener(n,r,i)}stop(){var n,r;this.stopping=!0,(n=this.sse)==null||n.stop(),(r=this.stream)==null||r.stop()}}for(var j=[],ft=0;ft<256;++ft)j.push((ft+256).toString(16).slice(1));function Si(t,e=0){return(j[t[e+0]]+j[t[e+1]]+j[t[e+2]]+j[t[e+3]]+"-"+j[t[e+4]]+j[t[e+5]]+"-"+j[t[e+6]]+j[t[e+7]]+"-"+j[t[e+8]]+j[t[e+9]]+"-"+j[t[e+10]]+j[t[e+11]]+j[t[e+12]]+j[t[e+13]]+j[t[e+14]]+j[t[e+15]]).toLowerCase()}var Me,Ai=new Uint8Array(16);function Pi(){if(!Me&&(Me=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Me))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Me(Ai)}var Oi=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const pn={randomUUID:Oi};function hn(t,e,n){if(pn.randomUUID&&!e&&!t)return pn.randomUUID();t=t||{};var r=t.random||(t.rng||Pi)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Si(r)}function Ni({initialMessages:t,setAttributes:e}){const[n,r]=y.useState(t||[]),[i,s]=y.useState(n.length);y.useEffect(()=>{e({messages:n})},[n]),y.useEffect(()=>{s(n.length)},[n.length]);const o=f=>{const g=hn();return r(p=>[...p,{...f,id:g}]),{id:g}},a=f=>{r(g=>g.map(p=>p.id===f.id?{...p,...f}:p))},l=f=>{r(g=>g.filter(p=>p.id!==f))},u=f=>n.find(g=>g.id===f),c=y.useMemo(()=>n[i-1],[i,n]);return{messages:n,addMessage:o,editMessage:a,deleteMessage:l,setMessages:r,getMessage:u,page:i,setPage:s,currentMessage:c}}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}function pt(t,e){return Array(e+1).join(t)}function Ri(t){return t.replace(/^\n*/,"")}function Mi(t){for(var e=t.length;e>0&&t[e-1]===`
`;)e--;return t.substring(0,e)}var ji=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function ht(t){return gt(t,ji)}var gn=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function mn(t){return gt(t,gn)}function Di(t){return yn(t,gn)}var vn=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function Li(t){return gt(t,vn)}function Bi(t){return yn(t,vn)}function gt(t,e){return e.indexOf(t.nodeName)>=0}function yn(t,e){return t.getElementsByTagName&&e.some(function(n){return t.getElementsByTagName(n).length})}var B={};B.paragraph={filter:"p",replacement:function(t){return`

`+t+`

`}},B.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+`
`}},B.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,n){var r=Number(e.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=pt(r===1?"=":"-",t.length);return`

`+t+`
`+i+`

`}else return`

`+pt("#",r)+" "+t+`

`}},B.blockquote={filter:"blockquote",replacement:function(t){return t=t.replace(/^\n+|\n+$/g,""),t=t.replace(/^/gm,"> "),`

`+t+`

`}},B.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode;return n.nodeName==="LI"&&n.lastElementChild===e?`
`+t:`

`+t+`

`}},B.listItem={filter:"li",replacement:function(t,e,n){t=t.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",i=e.parentNode;if(i.nodeName==="OL"){var s=i.getAttribute("start"),o=Array.prototype.indexOf.call(i.children,e);r=(s?Number(s)+o:o+1)+".  "}return r+t+(e.nextSibling&&!/\n$/.test(t)?`
`:"")}},B.indentedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="indented"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}},B.fencedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){for(var r=e.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],s=e.firstChild.textContent,o=n.fence.charAt(0),a=3,l=new RegExp("^"+o+"{3,}","gm"),u;u=l.exec(s);)u[0].length>=a&&(a=u[0].length+1);var c=pt(o,a);return`

`+c+i+`
`+s.replace(/\n$/,"")+`
`+c+`

`}},B.horizontalRule={filter:"hr",replacement:function(t,e,n){return`

`+n.hr+`

`}},B.inlineLink={filter:function(t,e){return e.linkStyle==="inlined"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var r=je(e.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+t+"]("+n+r+")"}},B.referenceLink={filter:function(t,e){return e.linkStyle==="referenced"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e,n){var r=e.getAttribute("href"),i=je(e.getAttribute("title"));i&&(i=' "'+i+'"');var s,o;switch(n.linkReferenceStyle){case"collapsed":s="["+t+"][]",o="["+t+"]: "+r+i;break;case"shortcut":s="["+t+"]",o="["+t+"]: "+r+i;break;default:var a=this.references.length+1;s="["+t+"]["+a+"]",o="["+a+"]: "+r+i}return this.references.push(o),s},references:[],append:function(t){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}},B.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}},B.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}},B.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n=t.parentNode.nodeName==="PRE"&&!e;return t.nodeName==="CODE"&&!n},replacement:function(t){if(!t)return"";t=t.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(t)?" ":"",n="`",r=t.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+e+t+e+n}},B.image={filter:"img",replacement:function(t,e){var n=je(e.getAttribute("alt")),r=e.getAttribute("src")||"",i=je(e.getAttribute("title")),s=i?' "'+i+'"':"";return r?"!["+n+"]("+r+s+")":""}};function je(t){return t?t.replace(/(\n+\s*)+/g,`
`):""}function kn(t){this.options=t,this._keep=[],this._remove=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[];for(var e in t.rules)this.array.push(t.rules[e])}kn.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this._keep.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this._remove.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){if(t.isBlank)return this.blankRule;var e;return(e=mt(this.array,t,this.options))||(e=mt(this._keep,t,this.options))||(e=mt(this._remove,t,this.options))?e:this.defaultRule},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}};function mt(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(zi(i,e,n))return i}}function zi(t,e,n){var r=t.filter;if(typeof r=="string"){if(r===e.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(t,e,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function $i(t){var e=t.element,n=t.isBlock,r=t.isVoid,i=t.isPre||function(f){return f.nodeName==="PRE"};if(!(!e.firstChild||i(e))){for(var s=null,o=!1,a=null,l=xn(a,e,i);l!==e;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!o&&u[0]===" "&&(u=u.substr(1)),!u){l=vt(l);continue}l.data=u,s=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,o=!1):r(l)||i(l)?(s=null,o=!0):s&&(o=!1);else{l=vt(l);continue}var c=xn(a,l,i);a=l,l=c}s&&(s.data=s.data.replace(/ $/,""),s.data||vt(s))}}function vt(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function xn(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var yt=typeof window<"u"?window:{};function Hi(){var t=yt.DOMParser,e=!1;try{new t().parseFromString("","text/html")&&(e=!0)}catch{}return e}function Fi(){var t=function(){};return Ui()?t.prototype.parseFromString=function(e){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(e),n.close(),n}:t.prototype.parseFromString=function(e){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(e),n.close(),n},t}function Ui(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch{yt.ActiveXObject&&(t=!0)}return t}var Wi=Hi()?yt.DOMParser:Fi();function Gi(t,e){var n;if(typeof t=="string"){var r=Vi().parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=t.cloneNode(!0);return $i({element:n,isBlock:ht,isVoid:mn,isPre:e.preformattedCode?qi:null}),n}var kt;function Vi(){return kt=kt||new Wi,kt}function qi(t){return t.nodeName==="PRE"||t.nodeName==="CODE"}function Xi(t,e){return t.isBlock=ht(t),t.isCode=t.nodeName==="CODE"||t.parentNode.isCode,t.isBlank=Zi(t),t.flankingWhitespace=Ki(t,e),t}function Zi(t){return!mn(t)&&!Li(t)&&/^\s*$/i.test(t.textContent)&&!Di(t)&&!Bi(t)}function Ki(t,e){if(t.isBlock||e.preformattedCode&&t.isCode)return{leading:"",trailing:""};var n=Yi(t.textContent);return n.leadingAscii&&bn("left",t,e)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&bn("right",t,e)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function Yi(t){var e=t.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:e[1],leadingAscii:e[2],leadingNonAscii:e[3],trailing:e[4],trailingNonAscii:e[5],trailingAscii:e[6]}}function bn(t,e,n){var r,i,s;return t==="left"?(r=e.previousSibling,i=/ $/):(r=e.nextSibling,i=/^ /),r&&(r.nodeType===3?s=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?s=!1:r.nodeType===1&&!ht(r)&&(s=i.test(r.textContent))),s}var Qi=Array.prototype.reduce,Ji=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function De(t){if(!(this instanceof De))return new De(t);var e={rules:B,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=Ii({},e,t),this.rules=new kn(this.options)}De.prototype={turndown:function(t){if(!ns(t))throw new TypeError(t+" is not a string, or an element/document/fragment node.");if(t==="")return"";var e=wn.call(this,new Gi(t,this.options));return es.call(this,e)},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e]);else if(typeof t=="function")t(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return Ji.reduce(function(e,n){return e.replace(n[0],n[1])},t)}};function wn(t){var e=this;return Qi.call(t.childNodes,function(n,r){r=new Xi(r,e.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:e.escape(r.nodeValue):r.nodeType===1&&(i=ts.call(e,r)),En(n,i)},"")}function es(t){var e=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(t=En(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function ts(t){var e=this.rules.forNode(t),n=wn.call(this,t),r=t.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+e.replacement(n,t,this.options)+r.trailing}function En(t,e){var n=Mi(t),r=Ri(e),i=Math.max(t.length-n.length,e.length-r.length),s=`

`.substring(0,i);return n+s+r}function ns(t){return t!=null&&(typeof t=="string"||t.nodeType&&(t.nodeType===1||t.nodeType===9||t.nodeType===11))}function xt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let le=xt();function _n(t){le=t}const Tn=/[&<>"']/,rs=new RegExp(Tn.source,"g"),Cn=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,is=new RegExp(Cn.source,"g"),ss={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sn=t=>ss[t];function U(t,e){if(e){if(Tn.test(t))return t.replace(rs,Sn)}else if(Cn.test(t))return t.replace(is,Sn);return t}const os=/(^|[^\[])\^/g;function S(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(os,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}function An(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const ve={exec:()=>null};function Pn(t,e){const n=t.replace(/\|/g,(s,o,a)=>{let l=!1,u=o;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function ye(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const s=t.charAt(r-i-1);if(s===e&&!n)i++;else if(s!==e&&n)i++;else break}return t.slice(0,r-i)}function as(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function On(t,e,n,r){const i=e.href,s=e.title?U(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:s,text:U(o)}}function ls(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class Le{constructor(e){w(this,"options");w(this,"rules");w(this,"lexer");this.options=e||le}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:ye(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=ls(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=ye(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:ye(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=ye(n[0],`
`).split(`
`),i="",s="";const o=[];for(;r.length>0;){let a=!1;const l=[];let u;for(u=0;u<r.length;u++)if(/^ {0,3}>/.test(r[u]))l.push(r[u]),a=!0;else if(!a)l.push(r[u]);else break;r=r.slice(u);const c=l.join(`
`),f=c.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");i=i?`${i}
${c}`:c,s=s?`${s}
${f}`:f;const g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,o,!0),this.lexer.state.top=g,r.length===0)break;const p=o[o.length-1];if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){const h=p,m=h.raw+`
`+r.join(`
`),v=this.blockquote(m);o[o.length-1]=v,i=i.substring(0,i.length-h.raw.length)+v.raw,s=s.substring(0,s.length-h.text.length)+v.text;break}else if((p==null?void 0:p.type)==="list"){const h=p,m=h.raw+`
`+r.join(`
`),v=this.list(m);o[o.length-1]=v,i=i.substring(0,i.length-p.raw.length)+v.raw,s=s.substring(0,s.length-h.raw.length)+v.raw,r=m.substring(o[o.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a=!1;for(;e;){let l=!1,u="",c="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;u=n[0],e=e.substring(u.length);let f=n[2].split(`
`,1)[0].replace(/^\t+/,k=>" ".repeat(3*k.length)),g=e.split(`
`,1)[0],p=!f.trim(),h=0;if(this.options.pedantic?(h=2,c=f.trimStart()):p?h=n[1].length+1:(h=n[2].search(/[^ ]/),h=h>4?1:h,c=f.slice(h),h+=n[1].length),p&&/^[ \t]*$/.test(g)&&(u+=g+`
`,e=e.substring(g.length+1),l=!0),!l){const k=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),_=new RegExp(`^ {0,${Math.min(3,h-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),O=new RegExp(`^ {0,${Math.min(3,h-1)}}(?:\`\`\`|~~~)`),P=new RegExp(`^ {0,${Math.min(3,h-1)}}#`),R=new RegExp(`^ {0,${Math.min(3,h-1)}}<[a-z].*>`,"i");for(;e;){const T=e.split(`
`,1)[0];let A;if(g=T,this.options.pedantic?(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),A=g):A=g.replace(/\t/g,"    "),O.test(g)||P.test(g)||R.test(g)||k.test(g)||_.test(g))break;if(A.search(/[^ ]/)>=h||!g.trim())c+=`
`+A.slice(h);else{if(p||f.replace(/\t/g,"    ").search(/[^ ]/)>=4||O.test(f)||P.test(f)||_.test(f))break;c+=`
`+g}!p&&!g.trim()&&(p=!0),u+=T+`
`,e=e.substring(T.length+1),f=A.slice(h)}}s.loose||(a?s.loose=!0:/\n[ \t]*\n[ \t]*$/.test(u)&&(a=!0));let m=null,v;this.options.gfm&&(m=/^\[[ xX]\] /.exec(c),m&&(v=m[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:u,task:!!m,checked:v,loose:!1,text:c,tokens:[]}),s.raw+=u}s.items[s.items.length-1].raw=s.items[s.items.length-1].raw.trimEnd(),s.items[s.items.length-1].text=s.items[s.items.length-1].text.trimEnd(),s.raw=s.raw.trimEnd();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){const u=s.items[l].tokens.filter(f=>f.type==="space"),c=u.length>0&&u.some(f=>/\n.*\n/.test(f.raw));s.loose=c}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=Pn(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const a of i)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<r.length;a++)o.header.push({text:r[a],tokens:this.lexer.inline(r[a]),header:!0,align:o.align[a]});for(const a of s)o.rows.push(Pn(a,o.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[u]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:U(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=ye(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=as(n[2],"()");if(o>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),On(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(/\s+/g," "),s=n[i.toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return On(r,s,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let a,l,u=o,c=0;const f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,n=n.slice(-1*e.length+o);(i=f.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=[...a].length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);const g=[...i[0]][0].length,p=e.slice(0,o+i.index+g+l);if(Math.min(o,l)%2){const m=p.slice(1,-1);return{type:"em",raw:p,text:m,tokens:this.lexer.inlineTokens(m)}}const h=p.slice(2,-2);return{type:"strong",raw:p,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=U(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=U(n[1]),i="mailto:"+r):(r=U(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=U(n[0]),s="mailto:"+i;else{let o;do o=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(o!==n[0]);i=U(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=U(n[0]),{type:"text",raw:n[0],text:r}}}}const cs=/^(?:[ \t]*(?:\n|$))+/,us=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ds=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ke=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,fs=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Nn=/(?:[*+-]|\d{1,9}[.)])/,In=S(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Nn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),bt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,ps=/^[^\n]+/,wt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,hs=S(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",wt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),gs=S(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Nn).getRegex(),Be="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Et=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,ms=S("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",Et).replace("tag",Be).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Rn=S(bt).replace("hr",ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Be).getRegex(),_t={blockquote:S(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Rn).getRegex(),code:us,def:hs,fences:ds,heading:fs,hr:ke,html:ms,lheading:In,list:gs,newline:cs,paragraph:Rn,table:ve,text:ps},Mn=S("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Be).getRegex(),vs={..._t,table:Mn,paragraph:S(bt).replace("hr",ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Mn).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Be).getRegex()},ys={..._t,html:S(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Et).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ve,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:S(bt).replace("hr",ke).replace("heading",` *#{1,6} *[^
]`).replace("lheading",In).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},jn=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,ks=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Dn=/^( {2,}|\\)\n(?!\s*$)/,xs=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,xe="\\p{P}\\p{S}",bs=S(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,xe).getRegex(),ws=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Es=S(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,xe).getRegex(),_s=S("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,xe).getRegex(),Ts=S("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,xe).getRegex(),Cs=S(/\\([punct])/,"gu").replace(/punct/g,xe).getRegex(),Ss=S(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),As=S(Et).replace("(?:-->|$)","-->").getRegex(),Ps=S("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",As).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ze=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Os=S(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ze).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Ln=S(/^!?\[(label)\]\[(ref)\]/).replace("label",ze).replace("ref",wt).getRegex(),Bn=S(/^!?\[(ref)\](?:\[\])?/).replace("ref",wt).getRegex(),Ns=S("reflink|nolink(?!\\()","g").replace("reflink",Ln).replace("nolink",Bn).getRegex(),Tt={_backpedal:ve,anyPunctuation:Cs,autolink:Ss,blockSkip:ws,br:Dn,code:ks,del:ve,emStrongLDelim:Es,emStrongRDelimAst:_s,emStrongRDelimUnd:Ts,escape:jn,link:Os,nolink:Bn,punctuation:bs,reflink:Ln,reflinkSearch:Ns,tag:Ps,text:xs,url:ve},Is={...Tt,link:S(/^!?\[(label)\]\((.*?)\)/).replace("label",ze).getRegex(),reflink:S(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ze).getRegex()},Ct={...Tt,escape:S(jn).replace("])","~|])").getRegex(),url:S(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Rs={...Ct,br:S(Dn).replace("{2,}","*").getRegex(),text:S(Ct.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},$e={normal:_t,gfm:vs,pedantic:ys},be={normal:Tt,gfm:Ct,breaks:Rs,pedantic:Is};class V{constructor(e){w(this,"tokens");w(this,"options");w(this,"state");w(this,"tokenizer");w(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||le,this.options.tokenizer=this.options.tokenizer||new Le,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:$e.normal,inline:be.normal};this.options.pedantic?(n.block=$e.pedantic,n.inline=be.pedantic):this.options.gfm&&(n.block=$e.gfm,this.options.breaks?n.inline=be.breaks:n.inline=be.gfm),this.tokenizer.rules=n}static get rules(){return{block:$e,inline:be}}static lex(e,n){return new V(n).lex(e)}static lexInline(e,n){return new V(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));let i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(i=a.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){s=n[n.length-1],r&&(s==null?void 0:s.type)==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(i),r=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),s=n[n.length-1],s&&s.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,o=e,a,l,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(r=c.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,u)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const f=e.slice(1);let g;this.options.extensions.startInline.forEach(p=>{g=p.call({lexer:this},f),typeof g=="number"&&g>=0&&(c=Math.min(c,g))}),c<1/0&&c>=0&&(s=e.substring(0,c+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),l=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class He{constructor(e){w(this,"options");w(this,"parser");this.options=e||le}space(e){return""}code({text:e,lang:n,escaped:r}){var o;const i=(o=(n||"").match(/^\S*/))==null?void 0:o[0],s=e.replace(/\n$/,"")+`
`;return i?'<pre><code class="language-'+U(i)+'">'+(r?s:U(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:U(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,r=e.start;let i="";for(let a=0;a<e.items.length;a++){const l=e.items[a];i+=this.listitem(l)}const s=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+s+o+`>
`+i+"</"+s+`>
`}listitem(e){let n="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" "}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){const o=e.rows[s];r="";for(let a=0;a<o.length;a++)r+=this.tablecell(o[a]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){const i=this.parser.parseInline(r),s=An(e);if(s===null)return i;e=s;let o='<a href="'+e+'"';return n&&(o+=' title="'+n+'"'),o+=">"+i+"</a>",o}image({href:e,title:n,text:r}){const i=An(e);if(i===null)return r;e=i;let s=`<img src="${e}" alt="${r}"`;return n&&(s+=` title="${n}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class St{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class q{constructor(e){w(this,"options");w(this,"renderer");w(this,"textRenderer");this.options=e||le,this.options.renderer=this.options.renderer||new He,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new St}static parse(e,n){return new q(n).parse(e)}static parseInline(e,n){return new q(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const a=s,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}const o=s;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;i+1<e.length&&e[i+1].type==="text";)a=e[++i],l+=`
`+this.renderer.text(a);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):r+=l;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=a||"";continue}}const o=s;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}}class we{constructor(e){w(this,"options");w(this,"block");this.options=e||le}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?V.lex:V.lexInline}provideParser(){return this.block?q.parse:q.parseInline}}w(we,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Ms{constructor(...e){w(this,"defaults",xt());w(this,"options",this.setOptions);w(this,"parse",this.parseMarkdown(!0));w(this,"parseInline",this.parseMarkdown(!1));w(this,"Parser",q);w(this,"Renderer",He);w(this,"TextRenderer",St);w(this,"Lexer",V);w(this,"Tokenizer",Le);w(this,"Hooks",we);this.use(...e)}walkTokens(e,n){var i,s;let r=[];for(const o of e)switch(r=r.concat(n.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)r=r.concat(this.walkTokens(l.tokens,n));for(const l of a.rows)for(const u of l)r=r.concat(this.walkTokens(u.tokens,n));break}case"list":{const a=o;r=r.concat(this.walkTokens(a.items,n));break}default:{const a=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const u=a[l].flat(1/0);r=r.concat(this.walkTokens(u,n))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=n.renderers[s.name];o?n.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new He(this.defaults);for(const o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o,l=r.renderer[a],u=s[a];s[a]=(...c)=>{let f=l.apply(s,c);return f===!1&&(f=u.apply(s,c)),f||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new Le(this.defaults);for(const o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=r.tokenizer[a],u=s[a];s[a]=(...c)=>{let f=l.apply(s,c);return f===!1&&(f=u.apply(s,c)),f}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new we;for(const o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const a=o,l=r.hooks[a],u=s[a];we.passThroughHooks.has(o)?s[a]=c=>{if(this.defaults.async)return Promise.resolve(l.call(s,c)).then(g=>u.call(s,g));const f=l.call(s,c);return u.call(s,f)}:s[a]=(...c)=>{let f=l.apply(s,c);return f===!1&&(f=u.apply(s,c)),f}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return V.lex(e,n??this.defaults)}parser(e,n){return q.parse(e,n??this.defaults)}parseMarkdown(e){return(r,i)=>{const s={...i},o={...this.defaults,...s},a=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&s.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const l=o.hooks?o.hooks.provideLexer():e?V.lex:V.lexInline,u=o.hooks?o.hooks.provideParser():e?q.parse:q.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(c=>l(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>u(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(a);try{o.hooks&&(r=o.hooks.preprocess(r));let c=l(r,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let f=u(c,o);return o.hooks&&(f=o.hooks.postprocess(f)),f}catch(c){return a(c)}}}onError(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+U(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}}}const ce=new Ms;function C(t,e){return ce.parse(t,e)}C.options=C.setOptions=function(t){return ce.setOptions(t),C.defaults=ce.defaults,_n(C.defaults),C},C.getDefaults=xt,C.defaults=le,C.use=function(...t){return ce.use(...t),C.defaults=ce.defaults,_n(C.defaults),C},C.walkTokens=function(t,e){return ce.walkTokens(t,e)},C.parseInline=ce.parseInline,C.Parser=q,C.parser=q.parse,C.Renderer=He,C.TextRenderer=St,C.Lexer=V,C.lexer=V.lex,C.Tokenizer=Le,C.Hooks=we,C.parse=C,C.options,C.setOptions,C.use,C.walkTokens,C.parseInline,q.parse,V.lex;const At=new De({headingStyle:"atx",bulletListMarker:"-",emDelimiter:"*"});At.remove(["script","link","style","audio","base","canvas","iframe","input","img","map","object","source","textarea","video","button"]),At.addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return"~~"+t+"~~"}});const zn=C;var $n={},Pt={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=Bs;var Hn="html",Fn="head",Fe="body",js=/<([a-zA-Z]+[0-9]?)/,Un=/<head[^]*>/i,Wn=/<body[^]*>/i,Ue=function(t,e){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Nt=function(t,e){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Gn=typeof window=="object"&&window.DOMParser;if(typeof Gn=="function"){var Ds=new Gn,Ls="text/html";Nt=function(t,e){return e&&(t="<".concat(e,">").concat(t,"</").concat(e,">")),Ds.parseFromString(t,Ls)},Ue=Nt}if(typeof document=="object"&&document.implementation){var We=document.implementation.createHTMLDocument();Ue=function(t,e){if(e){var n=We.documentElement.querySelector(e);return n&&(n.innerHTML=t),We}return We.documentElement.innerHTML=t,We}}var Ge=typeof document=="object"&&document.createElement("template"),It;Ge&&Ge.content&&(It=function(t){return Ge.innerHTML=t,Ge.content.childNodes});function Bs(t){var e,n,r=t.match(js),i=r&&r[1]?r[1].toLowerCase():"";switch(i){case Hn:{var s=Nt(t);if(!Un.test(t)){var o=s.querySelector(Fn);(e=o==null?void 0:o.parentNode)===null||e===void 0||e.removeChild(o)}if(!Wn.test(t)){var o=s.querySelector(Fe);(n=o==null?void 0:o.parentNode)===null||n===void 0||n.removeChild(o)}return s.querySelectorAll(Hn)}case Fn:case Fe:{var a=Ue(t).querySelectorAll(i);return Wn.test(t)&&Un.test(t)?a[0].parentNode.childNodes:a}default:{if(It)return It(t);var o=Ue(t,Fe).querySelector(Fe);return o.childNodes}}}var Ve={},Rt={},Mt={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(Mt);var x={},te=I&&I.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ee=I&&I.__assign||function(){return Ee=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ee.apply(this,arguments)};Object.defineProperty(x,"__esModule",{value:!0}),x.cloneNode=x.hasChildren=x.isDocument=x.isDirective=x.isComment=x.isText=x.isCDATA=x.isTag=x.Element=x.Document=x.CDATA=x.NodeWithChildren=x.ProcessingInstruction=x.Comment=x.Text=x.DataNode=x.Node=void 0;var F=Mt,jt=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),Dt(this,e)},t}();x.Node=jt;var qe=function(t){te(e,t);function e(n){var r=t.call(this)||this;return r.data=n,r}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),e}(jt);x.DataNode=qe;var Vn=function(t){te(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=F.ElementType.Text,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(qe);x.Text=Vn;var qn=function(t){te(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=F.ElementType.Comment,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(qe);x.Comment=qn;var Xn=function(t){te(e,t);function e(n,r){var i=t.call(this,r)||this;return i.name=n,i.type=F.ElementType.Directive,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(qe);x.ProcessingInstruction=Xn;var Xe=function(t){te(e,t);function e(n){var r=t.call(this)||this;return r.children=n,r}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),e}(jt);x.NodeWithChildren=Xe;var Zn=function(t){te(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=F.ElementType.CDATA,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(Xe);x.CDATA=Zn;var Kn=function(t){te(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=F.ElementType.Root,n}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(Xe);x.Document=Kn;var Yn=function(t){te(e,t);function e(n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=n==="script"?F.ElementType.Script:n==="style"?F.ElementType.Style:F.ElementType.Tag);var o=t.call(this,i)||this;return o.name=n,o.attribs=r,o.type=s,o}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,s;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(s=n["x-attribsPrefix"])===null||s===void 0?void 0:s[r]}})},enumerable:!1,configurable:!0}),e}(Xe);x.Element=Yn;function Qn(t){return(0,F.isTag)(t)}x.isTag=Qn;function Jn(t){return t.type===F.ElementType.CDATA}x.isCDATA=Jn;function er(t){return t.type===F.ElementType.Text}x.isText=er;function tr(t){return t.type===F.ElementType.Comment}x.isComment=tr;function nr(t){return t.type===F.ElementType.Directive}x.isDirective=nr;function rr(t){return t.type===F.ElementType.Root}x.isDocument=rr;function zs(t){return Object.prototype.hasOwnProperty.call(t,"children")}x.hasChildren=zs;function Dt(t,e){e===void 0&&(e=!1);var n;if(er(t))n=new Vn(t.data);else if(tr(t))n=new qn(t.data);else if(Qn(t)){var r=e?Lt(t.children):[],i=new Yn(t.name,Ee({},t.attribs),r);r.forEach(function(l){return l.parent=i}),t.namespace!=null&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]=Ee({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]=Ee({},t["x-attribsPrefix"])),n=i}else if(Jn(t)){var r=e?Lt(t.children):[],s=new Zn(r);r.forEach(function(u){return u.parent=s}),n=s}else if(rr(t)){var r=e?Lt(t.children):[],o=new Kn(r);r.forEach(function(u){return u.parent=o}),t["x-mode"]&&(o["x-mode"]=t["x-mode"]),n=o}else if(nr(t)){var a=new Xn(t.name,t.data);t["x-name"]!=null&&(a["x-name"]=t["x-name"],a["x-publicId"]=t["x-publicId"],a["x-systemId"]=t["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(t.type));return n.startIndex=t.startIndex,n.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(n.sourceCodeLocation=t.sourceCodeLocation),n}x.cloneNode=Dt;function Lt(t){for(var e=t.map(function(r){return Dt(r,!0)}),n=1;n<e.length;n++)e[n].prev=e[n-1],e[n-1].next=e[n];return e}(function(t){var e=I&&I.__createBinding||(Object.create?function(a,l,u,c){c===void 0&&(c=u);var f=Object.getOwnPropertyDescriptor(l,u);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,c,f)}:function(a,l,u,c){c===void 0&&(c=u),a[c]=l[u]}),n=I&&I.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&e(l,a,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=Mt,i=x;n(x,t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function a(l,u,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(c=u,u=s),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??s,this.elementCB=c??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,u){var c=this.options.xmlMode?r.ElementType.Tag:void 0,f=new i.Element(l,u,void 0,c);this.addNode(f),this.tagStack.push(f)},a.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===r.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var c=new i.Text(l);this.addNode(c),this.lastNode=c}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var u=new i.Comment(l);this.addNode(u),this.lastNode=u},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new i.Text(""),u=new i.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,u){var c=new i.ProcessingInstruction(l,u);this.addNode(c)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],c=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),c&&(l.prev=c,c.next=l),l.parent=u,this.lastNode=null},a}();t.DomHandler=o,t.default=o})(Rt);var ir={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{})})(ir),Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.formatAttributes=sr,Ve.formatDOM=or;var Ze=Rt,$s=ir;function Hs(t){return $s.CASE_SENSITIVE_TAG_NAMES_MAP[t]}function sr(t){for(var e={},n=0,r=t.length;n<r;n++){var i=t[n];e[i.name]=i.value}return e}function Fs(t){t=t.toLowerCase();var e=Hs(t);return e||t}function or(t,e,n){e===void 0&&(e=null);for(var r=[],i,s=0,o=t.length;s<o;s++){var a=t[s];switch(a.nodeType){case 1:{var l=Fs(a.nodeName);i=new Ze.Element(l,sr(a.attributes)),i.children=or(l==="template"?a.content.childNodes:a.childNodes,i);break}case 3:i=new Ze.Text(a.nodeValue);break;case 8:i=new Ze.Comment(a.nodeValue);break;default:continue}var u=r[s-1]||null;u&&(u.next=i),i.parent=e,i.prev=u,i.next=null,r.push(i)}return n&&(i=new Ze.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),i.next=r[0]||null,i.parent=e,r.unshift(i),r[1]&&(r[1].prev=r[0])),r}var Us=I&&I.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=qs;var Ws=Us(Ot),Gs=Ve,Vs=/<(![a-zA-Z\s]+)>/;function qs(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];var e=t.match(Vs),n=e?e[1]:void 0;return(0,Gs.formatDOM)((0,Ws.default)(t),null,n)}var Ke={},X={},Ye={},Xs=0;Ye.SAME=Xs;var Zs=1;Ye.CAMELCASE=Zs,Ye.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const ar=0,ne=1,Qe=2,Je=3,Bt=4,lr=5,cr=6;function Ks(t){return D.hasOwnProperty(t)?D[t]:null}function z(t,e,n,r,i,s,o){this.acceptsBooleans=e===Qe||e===Je||e===Bt,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}const D={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(t=>{D[t]=new z(t,ar,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([t,e])=>{D[t]=new z(t,ne,!1,e,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(t=>{D[t]=new z(t,Qe,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(t=>{D[t]=new z(t,Qe,!1,t,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(t=>{D[t]=new z(t,Je,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(t=>{D[t]=new z(t,Je,!0,t,null,!1,!1)}),["capture","download"].forEach(t=>{D[t]=new z(t,Bt,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(t=>{D[t]=new z(t,cr,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(t=>{D[t]=new z(t,lr,!1,t.toLowerCase(),null,!1,!1)});const zt=/[\-\:]([a-z])/g,$t=t=>t[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(t=>{const e=t.replace(zt,$t);D[e]=new z(e,ne,!1,t,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(t=>{const e=t.replace(zt,$t);D[e]=new z(e,ne,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(t=>{const e=t.replace(zt,$t);D[e]=new z(e,ne,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(t=>{D[t]=new z(t,ne,!1,t.toLowerCase(),null,!1,!1)});const Ys="xlinkHref";D[Ys]=new z("xlinkHref",ne,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(t=>{D[t]=new z(t,ne,!1,t.toLowerCase(),null,!0,!0)});const{CAMELCASE:Qs,SAME:Js,possibleStandardNames:ur}=Ye,eo=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",to=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+eo+"]*$")),no=Object.keys(ur).reduce((t,e)=>{const n=ur[e];return n===Js?t[e]=e:n===Qs?t[e.toLowerCase()]=e:t[e]=n,t},{});X.BOOLEAN=Je,X.BOOLEANISH_STRING=Qe,X.NUMERIC=lr,X.OVERLOADED_BOOLEAN=Bt,X.POSITIVE_NUMERIC=cr,X.RESERVED=ar,X.STRING=ne,X.getPropertyInfo=Ks,X.isCustomAttribute=to,X.possibleStandardNames=no;var Ht={},Ft={},dr=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ro=/\n/g,io=/^\s*/,so=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,oo=/^:\s*/,ao=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,lo=/^[;\s]*/,co=/^\s+|\s+$/g,uo=`
`,fr="/",pr="*",ue="",fo="comment",po="declaration",ho=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(h){var m=h.match(ro);m&&(n+=m.length);var v=h.lastIndexOf(uo);r=~v?h.length-v:r+h.length}function s(){var h={line:n,column:r};return function(m){return m.position=new o(h),u(),m}}function o(h){this.start=h,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(h){var m=new Error(e.source+":"+n+":"+r+": "+h);if(m.reason=h,m.filename=e.source,m.line=n,m.column=r,m.source=t,!e.silent)throw m}function l(h){var m=h.exec(t);if(m){var v=m[0];return i(v),t=t.slice(v.length),m}}function u(){l(io)}function c(h){var m;for(h=h||[];m=f();)m!==!1&&h.push(m);return h}function f(){var h=s();if(!(fr!=t.charAt(0)||pr!=t.charAt(1))){for(var m=2;ue!=t.charAt(m)&&(pr!=t.charAt(m)||fr!=t.charAt(m+1));)++m;if(m+=2,ue===t.charAt(m-1))return a("End of comment missing");var v=t.slice(2,m-2);return r+=2,i(v),t=t.slice(m),r+=2,h({type:fo,comment:v})}}function g(){var h=s(),m=l(so);if(m){if(f(),!l(oo))return a("property missing ':'");var v=l(ao),k=h({type:po,property:hr(m[0].replace(dr,ue)),value:v?hr(v[0].replace(dr,ue)):ue});return l(lo),k}}function p(){var h=[];c(h);for(var m;m=g();)m!==!1&&(h.push(m),c(h));return h}return u(),p()};function hr(t){return t?t.replace(co,ue):ue}var go=I&&I.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.default=vo;var mo=go(ho);function vo(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,mo.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.camelCase=void 0;var yo=/^--[a-zA-Z0-9-]+$/,ko=/-([a-z])/g,xo=/^[^-]+$/,bo=/^-(webkit|moz|ms|o|khtml)-/,wo=/^-(ms)-/,Eo=function(t){return!t||xo.test(t)||yo.test(t)},_o=function(t,e){return e.toUpperCase()},gr=function(t,e){return"".concat(e,"-")},To=function(t,e){return e===void 0&&(e={}),Eo(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(wo,gr):t=t.replace(bo,gr),t.replace(ko,_o))};et.camelCase=To;var Co=I&&I.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},So=Co(Ft),Ao=et;function Ut(t,e){var n={};return!t||typeof t!="string"||(0,So.default)(t,function(r,i){r&&i&&(n[(0,Ao.camelCase)(r,e)]=i)}),n}Ut.default=Ut;var Po=Ut;(function(t){var e=I&&I.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=s,t.setStyleProp=a;var n=y,r=e(Po),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function s(c,f){return c.includes("-")?!i.has(c):!!(f&&typeof f.is=="string")}var o={reactCompat:!0};function a(c,f){if(typeof c=="string"){if(!c.trim()){f.style={};return}try{f.style=(0,r.default)(c,o)}catch{f.style={}}}}t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(c){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(c.name)};t.canTextBeChildOfNode=l;var u=function(c){return c};t.returnFirstArg=u})(Ht),Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=Ro;var _e=X,mr=Ht,Oo=["checked","value"],No=["input","select","textarea"],Io={reset:!0,submit:!0};function Ro(t,e){t===void 0&&(t={});var n={},r=!!(t.type&&Io[t.type]);for(var i in t){var s=t[i];if((0,_e.isCustomAttribute)(i)){n[i]=s;continue}var o=i.toLowerCase(),a=vr(o);if(a){var l=(0,_e.getPropertyInfo)(a);switch(Oo.includes(a)&&No.includes(e)&&!r&&(a=vr("default"+o)),n[a]=s,l&&l.type){case _e.BOOLEAN:n[a]=!0;break;case _e.OVERLOADED_BOOLEAN:s===""&&(n[a]=!0);break}continue}mr.PRESERVE_CUSTOM_ATTRIBUTES&&(n[i]=s)}return(0,mr.setStyleProp)(t.style,n),n}function vr(t){return _e.possibleStandardNames[t]}var Wt={},Mo=I&&I.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=yr;var Gt=y,jo=Mo(Ke),Te=Ht,Do={cloneElement:Gt.cloneElement,createElement:Gt.createElement,isValidElement:Gt.isValidElement};function yr(t,e){e===void 0&&(e={});for(var n=[],r=typeof e.replace=="function",i=e.transform||Te.returnFirstArg,s=e.library||Do,o=s.cloneElement,a=s.createElement,l=s.isValidElement,u=t.length,c=0;c<u;c++){var f=t[c];if(r){var g=e.replace(f,c);if(l(g)){u>1&&(g=o(g,{key:g.key||c})),n.push(i(g,f,c));continue}}if(f.type==="text"){var p=!f.data.trim().length;if(p&&f.parent&&!(0,Te.canTextBeChildOfNode)(f.parent)||e.trim&&p)continue;n.push(i(f.data,f,c));continue}var h=f,m={};Lo(h)?((0,Te.setStyleProp)(h.attribs.style,h.attribs),m=h.attribs):h.attribs&&(m=(0,jo.default)(h.attribs,h.name));var v=void 0;switch(f.type){case"script":case"style":f.children[0]&&(m.dangerouslySetInnerHTML={__html:f.children[0].data});break;case"tag":f.name==="textarea"&&f.children[0]?m.defaultValue=f.children[0].data:f.children&&f.children.length&&(v=yr(f.children,e));break;default:continue}u>1&&(m.key=c),n.push(i(a(f.name,m,v),f,c))}return n.length===1?n[0]:n}function Lo(t){return Te.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&(0,Te.isCustomComponent)(t.name,t.attribs)}(function(t){var e=I&&I.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=a;var n=e(Pt);t.htmlToDOM=n.default;var r=e(Ke);t.attributesToProps=r.default;var i=e(Wt);t.domToReact=i.default;var s=Rt;Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return s.Text}});var o={lowerCaseAttributeNames:!1};function a(l,u){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,i.default)((0,n.default)(l,(u==null?void 0:u.htmlparser2)||o),u):[]}})($n);const kr=Or($n),Bo=kr.default||kr,zo=t=>{const{message:e}=t,n=e!=null&&e.isOriginal?b.__("Original Content","aimuse"):b.__("AI Generated Content","aimuse"),r=y.useRef(null),i=y.useRef(!0),s=y.useRef(!0);y.useEffect(()=>{if(s.current){s.current=!1;return}r.current&&i.current&&(r.current.scrollTop=r.current.scrollHeight)},[e==null?void 0:e.content]);const o=Bo(zn.parse((e==null?void 0:e.content)||"").toString());return d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("label",{className:"waim__label",children:n}),d.jsx("label",{className:"waim__label",children:e!=null&&e.usage?`${e.usage.service}@${e.usage.model} ($${e.usage.price.toFixed(4)})`:""})]}),d.jsx("div",{className:"waim__response-item",children:d.jsx("div",{ref:r,className:"waim__response-item-content",children:o})})]})},$o=t=>{const{messages:e,page:n,setPage:r}=t;return d.jsx("div",{children:e.length>1&&d.jsxs("div",{className:"waim__response-pagination",children:[d.jsx(E.Tooltip,{text:b.__("Previous","aimuse"),children:d.jsx(G,{className:"waim__response-paginationBtn",variant:"dimmed",disabled:n===1,onClick:()=>r(n-1),icon:d.jsx(Fr,{size:24})})}),d.jsx(E.Tooltip,{text:b.__("Next","aimuse"),children:d.jsx(G,{className:"waim__response-paginationBtn",variant:"dimmed",disabled:n===e.length,onClick:()=>r(n+1),icon:d.jsx(Ne,{size:24})})}),d.jsxs("div",{className:"waim__response-paginationHistory",children:[` ${n} `,d.jsx("span",{children:"/"}),` ${e.length} ${b.__("Results","aimuse")}`]})]})})},Ho=()=>{if(!window.WPAIMuse&&!window.WPAIMuseBlocks)throw new Error("window.WPAIMuse or window.WPAIMuseBlocks is not defined");const t=window.WPAIMuse.premium||window.WPAIMuseBlocks.premium,e=!t.is_free,n=t.is_free;return{is_premium:e,is_free:n}};(wr=window.WPAIMuse)==null||wr.post_types.some(t=>t.name==="product");const Fo=`


`,Uo=()=>{window.open("https://wpaimuse.com/#pricing","_blank")},Wo={entering:{maxHeight:1280,marginTop:16},entered:{maxHeight:1280,marginTop:16},exiting:{maxHeight:0,marginTop:0},exited:{maxHeight:0,marginTop:0}},Go=t=>{const{clientId:e,attributes:n,setAttributes:r,isSelected:i}=t,s=se.useBlockProps();s.className+=" remove-outline";const{replaceBlock:o,removeBlocks:a}=Ae.useDispatch("core/block-editor"),{messages:l,editMessage:u,addMessage:c,deleteMessage:f,currentMessage:g,page:p,setPage:h}=Ni({initialMessages:n.messages,setAttributes:r}),[m,v]=y.useState(n.pinned),k=y.useRef(null);y.useEffect(()=>{!i&&!n.pinned?v(!1):i&&v(!0)},[i]);const _=()=>{if(!n.hasOriginalContent){a([e]);return}o(e,n.originalContent)},[O,P]=y.useState(!1),[R,T]=y.useState(),A=y.useRef(null),{is_free:$}=Ho(),Q=window.WPAIMuseBlocks,pe=y.useRef(!1),[Se,re]=y.useState(!1);y.useEffect(()=>{pe.current&&(pe.current=!1,P(!0),ia())},[g]),y.useEffect(()=>{O||re(!1)},[O]);const Er=()=>{c({content:"",customPrompt:"",prompts:[],parent:g}),pe.current=!0};Ie("ctrl+enter",()=>{g&&!Tr()&&Er()},{enableOnFormTags:!0,scopes:["waim-block"],preventDefault:!0}),Ie("esc",()=>{O&&_r()},{enableOnFormTags:!0,scopes:["waim-block"],preventDefault:!0});const ia=async()=>{var nt,rt,Cr,Sr;let N="";T(void 0);const M=g,L=_i(),Z=[],tt=((nt=M.parent)==null?void 0:nt.content)||"";tt.trim().length&&Z.push(tt),Z.push(Fo),(rt=M.parent)!=null&&rt.customPrompt&&Z.push((Cr=M.parent)==null?void 0:Cr.customPrompt),Z.push("Strictly use Markdown for formatting.");const K=Z.join(`
`);try{A.current=await dt.build({url:Q.api_base+"/admin/generate/text/",headers:{"X-WP-Nonce":Q.nonce,"Content-Type":"application/json"},data:{prompt:K,templates:((Sr=M.parent)==null?void 0:Sr.prompts)||[],channel:M.id,component:"text-block",secret:L},method:"POST"}),A.current.addEventListener("message",ie=>{N+=ie.detail,u({id:M.id,content:N})}),A.current.addEventListener("done",ie=>{u({id:M.id,content:N,usage:ie.detail})}),A.current.addEventListener("close",()=>{A.current=null,P(!1)}),A.current.addEventListener("error",ie=>{var Ar;T(ie.detail),N.trim().length===0&&f(M.id),(Ar=A.current)==null||Ar.stop(),P(!1),console.error(ie.detail)})}catch(ie){T([{message:"Something went wrong"}]),console.error(ie)}},sa=N=>{if(n.hasOriginalContent&&N.isOriginal){_();return}N.content&&N.content.trim().length?o(e,H.pasteHandler({HTML:H.serialize(H.rawHandler({HTML:zn.parse((N==null?void 0:N.content)||"").toString()||""})),mode:"BLOCKS"})):_()},_r=()=>{var N;(N=A.current)==null||N.stop(),re(!0)},oa=N=>{const M={content:"",customPrompt:N.customPrompt||"",prompts:N.prompts||[]},{id:L}=c(M);u({id:L,...M,parent:{id:L,...M}}),pe.current=!0},Tr=()=>{var N,M,L,Z;return!!(O||((M=(N=l[p-1])==null?void 0:N.prompts)==null?void 0:M.length)===0&&!((Z=(L=l[p-1])==null?void 0:L.customPrompt)!=null&&Z.trim().length))};return d.jsxs("div",{...s,children:[d.jsx(Zr,{handleCancel:_,expand:m,setExpand:v,...t}),d.jsx(Y,{nodeRef:k,in:m,timeout:200,children:N=>{var M;return d.jsx("div",{ref:k,style:{maxHeight:0,overflow:"hidden",marginTop:0,transition:"all 200ms ease-in-out",...Wo[N]},className:"waim__content",children:$&&Q.post_type.isPremium?d.jsx("div",{style:{marginTop:"16px",marginBottom:"16px"},children:d.jsxs(E.Notice,{status:"info",isDismissible:!1,children:[d.jsxs("p",{children:["You need to be a premium member to use ",d.jsx("strong",{children:"AI Muse Assistant"})," for"," ",d.jsx("strong",{children:Q.post_type.singularLabel}),"."]}),d.jsx(G,{icon:d.jsx(Wr,{size:"1rem",stroke:2}),title:"Upgrade to Premium",onClick:Uo})]})}):d.jsxs(d.Fragment,{children:[R&&R.map((L,Z)=>{const tt=()=>{T(K=>K===void 0?K:(K==null||K.splice(Z,1),[...K]))};return d.jsxs(E.Notice,{status:"error",onRemove:tt,className:"waim__notice",children:[d.jsx("strong",{style:{fontSize:16},children:"Error!"}),d.jsx("p",{style:{marginTop:2},children:L.message}),(L==null?void 0:L.links)&&d.jsx(E.Flex,{justify:"flex-start",wrap:!0,children:L.links.map((K,nt)=>{const rt=()=>{window.open(K.url,"_blank")};return d.jsx(G,{icon:d.jsx(Gr,{size:"1rem",stroke:2}),title:K.label,onClick:rt},nt)})})]},Z)}),l.length>0?d.jsxs(an,{initiallyActiveScopes:["waim-block"],children:[d.jsxs("div",{className:"waim__responses",children:[d.jsx(zo,{message:l[p-1]}),d.jsxs("div",{className:"waim__response-actions",children:[d.jsx($o,{messages:l,page:p,setPage:h}),!O&&d.jsx(G,{title:(M=l[p-1])!=null&&M.isOriginal?b.__("Use Original Content","aimuse"):b.__("Use This Content","aimuse"),className:"waim__response-useBtn",onClick:()=>sa(l[p-1])}),O&&d.jsx(G,{loading:Se,disabled:Se,variant:"error",title:b.__("Stop","aimuse"),className:"waim__response-useBtn",onClick:()=>_r()})]})]}),l.map(L=>L.id!==(g==null?void 0:g.id)?null:d.jsx(pi,{engineIsRunning:O,message:L,editMessage:u},L.id)),d.jsx(Kr,{engineIsRunning:O,generateIsDisabled:Tr(),handleCancel:_,handleGenerate:()=>Er(),messages:l,page:p,hasOriginalContent:n.hasOriginalContent})]}):d.jsx(gi,{handleCancel:_,onSubmit:oa})]})})}})]})},Ce={$schema:"https://schemas.wp.org/trunk/block.json",apiVersion:3,name:"aimuse/text-block",title:"AI Muse Assistant",description:"Elevate your content creation with our AI-powered Gutenberg Block. Our cutting-edge technology offers seamless customization and generation, providing you with an enhanced content creation experience.",keywords:["AI","GPT","PALM","AL","Magic","help","assistant","muse"],version:"1.0.0",textdomain:"aimuse",category:"text",supports:{html:!1,multiple:!0,reusable:!1},attributes:{messages:{type:"array",default:[]},hasOriginalContent:{type:"boolean",default:!1},originalContent:{type:"array"},pinned:{type:"boolean",default:!1}}},Vt=({width:t=24,height:e=24,style:n={}})=>d.jsxs("svg",{"data-name":"muse_icon",width:t,height:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1608.55 1608.55",style:n,children:[d.jsx("rect",{width:"1608.55",height:"1608.55",rx:"320.44",ry:"320.44",style:{fill:"#2271b1",strokeWidth:0}}),d.jsxs("g",{children:[d.jsx("circle",{cx:"948.97",cy:"648.34",r:"86.67",transform:"translate(-180.5 860.91) rotate(-45)",style:{fill:"#ffffff",strokeWidth:0}}),d.jsx("path",{d:"m1371.34,1138.41l-184.12-318.9c-26.75-46.33-85.98-62.2-132.31-35.45h0c-46.33,26.75-62.2,85.98-35.45,132.31l121.15,209.83c9.13,15.81-2.28,35.58-20.54,35.58H488.49c-18.26,0-29.67-19.77-20.54-35.58l420.21-727.83c26.75-46.33,10.87-105.56-35.45-132.31h0c-46.33-26.75-105.56-10.87-132.31,35.45l-483.18,836.9c-55.7,96.48,13.93,217.08,125.33,217.08h883.47c111.41,0,181.04-120.6,125.33-217.08Z",style:{fill:"#ffffff",strokeWidth:0}})]})]});W("outline","brand-openrouter","OpenRouter",[["path",{d:"m16.58,22.18c0-.63,0-1.23,0-1.83,0-.11-.02-.14-.13-.14-.6.03-1.21.04-1.82.03-1.84-.04-3.58-.47-5.21-1.33-.87-.46-1.67-1.04-2.47-1.61-1-.71-2.01-1.43-3.09-2.02-.56-.31-1.16-.52-1.77-.7-.66-.2-1.34-.37-2.03-.46-.06,0-.07-.03-.07-.08,0-.02,0-.04,0-.06,0-1.32,0-2.63,0-3.95,0-.1.02-.12.12-.14,1.2-.19,2.38-.47,3.49-.98.64-.29,1.25-.67,1.83-1.07,1.03-.71,2.05-1.44,3.09-2.14,1.29-.87,2.7-1.45,4.23-1.74.92-.17,1.85-.22,2.78-.21.36,0,.72.01,1.08.03.09,0,.11-.02.11-.11,0-.61,0-1.22,0-1.85,2.43,1.4,4.85,2.8,7.28,4.2-2.43,1.4-4.84,2.8-7.26,4.19-.04-.04-.02-.08-.02-.12,0-.66,0-1.31,0-1.97,0-.09-.02-.12-.12-.12-.72-.02-1.45-.05-2.17,0-1.13.07-2.19.39-3.16.96-.84.49-1.61,1.1-2.4,1.65-.69.48-1.38.96-2.11,1.38-.02.01-.04.03-.07.05.26.16.51.3.75.46.97.65,1.91,1.32,2.86,2,.63.45,1.29.84,2.02,1.1.63.23,1.29.35,1.96.4.74.05,1.47.02,2.21,0,.1,0,.1-.04.1-.12,0-.66,0-1.31,0-1.97,0-.04,0-.08,0-.15,2.43,1.4,4.85,2.8,7.28,4.2-2.43,1.4-4.84,2.8-7.28,4.2Z",key:"svg-0"}],["rect",{width:"24",height:"24",key:"svg-1",strokeWidth:"0"}]]),W("filled","brand-openrouter-filled","OpenRouterFilled",[["path",{d:"m16.58,22.18c0-.63,0-1.23,0-1.83,0-.11-.02-.14-.13-.14-.6.03-1.21.04-1.82.03-1.84-.04-3.58-.47-5.21-1.33-.87-.46-1.67-1.04-2.47-1.61-1-.71-2.01-1.43-3.09-2.02-.56-.31-1.16-.52-1.77-.7-.66-.2-1.34-.37-2.03-.46-.06,0-.07-.03-.07-.08,0-.02,0-.04,0-.06,0-1.32,0-2.63,0-3.95,0-.1.02-.12.12-.14,1.2-.19,2.38-.47,3.49-.98.64-.29,1.25-.67,1.83-1.07,1.03-.71,2.05-1.44,3.09-2.14,1.29-.87,2.7-1.45,4.23-1.74.92-.17,1.85-.22,2.78-.21.36,0,.72.01,1.08.03.09,0,.11-.02.11-.11,0-.61,0-1.22,0-1.85,2.43,1.4,4.85,2.8,7.28,4.2-2.43,1.4-4.84,2.8-7.26,4.19-.04-.04-.02-.08-.02-.12,0-.66,0-1.31,0-1.97,0-.09-.02-.12-.12-.12-.72-.02-1.45-.05-2.17,0-1.13.07-2.19.39-3.16.96-.84.49-1.61,1.1-2.4,1.65-.69.48-1.38.96-2.11,1.38-.02.01-.04.03-.07.05.26.16.51.3.75.46.97.65,1.91,1.32,2.86,2,.63.45,1.29.84,2.02,1.1.63.23,1.29.35,1.96.4.74.05,1.47.02,2.21,0,.1,0,.1-.04.1-.12,0-.66,0-1.31,0-1.97,0-.04,0-.08,0-.15,2.43,1.4,4.85,2.8,7.28,4.2-2.43,1.4-4.84,2.8-7.28,4.2Z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}],["rect",{width:"24",height:"24",strokeWidth:"0",key:"svg-1"}]]);const Vo=()=>{const t=Ce;H.registerBlockType(t.name,{...t,icon:Vt,edit:Go})},qo=["core/group","core/paragraph","core/list","core/list-item","core/heading","core/quote","core/code"],Xo=["stackable/heading","stackable/text","greenshift-blocks/heading","greenshift-blocks/text","generateblocks/headline","essential-blocks/advanced-heading"],Zo=()=>[...qo,...Xo],xr=t=>{if(!H.getBlockType(t))return!1;const{getHiddenBlockTypes:n}=Ae.select("core/edit-post")||{};return!((n==null?void 0:n())||[]).includes(t)};function Ko(t,e){return!Zo().includes(e)||!xr(Ce.name)?t:{...t,supports:{...t.supports,aimuse:{"content-generator":!0}}}}const Yo=()=>{qt.addFilter("blocks.registerBlockType","aimuse/text-block-supports",Ko,100)};function Qo(t){if(!(t!=null&&t.replace(/\s+/,"").length))return"";const e=document.createElement("div");e.innerHTML=t;const{textContent:n,innerText:r}=e;return n&&!n.replace(/\s+/,"").length||r&&!r.replace(/\s+/,"").length?"":e.textContent||e.innerText||""}const br=t=>t.filter(e=>e!=null).map(e=>H.getBlockContent(e)).join(`

`);function Jo({onClose:t,blockType:e}){const[n,r]=y.useState(!1),i=window.WPAIMuseBlocks.templates,{getSelectedBlockClientIds:s,getBlockParents:o,getBlocksByClientId:a}=Ae.useSelect("core/block-editor"),{removeBlocks:l,selectBlock:u,replaceBlock:c}=Ae.useDispatch("core/block-editor");y.useEffect(()=>{const g=s(),p=a(g),h=br(p),m=Qo(h);return r(!m.length)},[a,s]);const f=g=>{let p=s(),[h,...m]=p;e==="core/list-item"&&(p=o(h),[h,...m]=p);const v=a(p),k=At.turndown(br(v)),O=n?{}:{messages:[{prompts:g?[g]:[],isOriginal:!0,content:k,id:hn()}],pinned:!1,hasOriginalContent:!0,originalContent:v};(async()=>{await l(m);const P=H.createBlock(Ce.name,O);await c(h,P),await u(P.clientId)})()};return d.jsxs(d.Fragment,{children:[n&&d.jsx(E.Notice,{status:"warning",isDismissible:!1,className:"waim__notice",children:b.__("Add content to activate the tools below","aimuse")}),d.jsx(E.MenuGroup,{hideSeparator:!0,children:d.jsx(E.MenuItem,{autoFocus:!1,onClick:()=>f(),icon:d.jsx(Vt,{}),iconPosition:"left",className:"waim_default_toolbar_button",children:b.__("Open AI Muse","aimuse")})}),d.jsx(E.MenuGroup,{label:"Select Prompts",children:i.map(g=>d.jsxs(d.Fragment,{children:[!g.option&&d.jsx(E.MenuItem,{autoFocus:!1,onClick:()=>f({slug:g.slug}),disabled:n,className:"waim_default_toolbar_item",children:g.name},`01_${g.name}_${g.id}`),g.option&&d.jsx(d.Fragment,{children:d.jsx(E.Dropdown,{renderToggle:({isOpen:p,onToggle:h})=>d.jsx(E.MenuItem,{icon:d.jsx(Ne,{style:{fill:"none",width:16,height:16},stroke:1.5}),iconPosition:"right",onClick:h,"aria-expanded":p,disabled:n,className:"waim_default_toolbar_item",children:g.name}),renderContent:()=>{var p,h;return d.jsx(d.Fragment,{children:d.jsx(E.MenuGroup,{label:`Select ${(p=g.option)==null?void 0:p.name}`,children:(h=g.option)==null?void 0:h.values.map((m,v)=>d.jsx(E.MenuItem,{disabled:n,className:"waim_default_toolbar_item",onClick:()=>f({slug:g.slug,option:m}),children:m},`03_${m}_${v}`))})})}},`02_${g.name}_${g.id}`)})]}))})]})}function ea({blockType:t}){return d.jsx(E.Dropdown,{popoverProps:{variant:"toolbar"},renderToggle:({isOpen:e,onToggle:n})=>d.jsx(E.ToolbarButton,{showTooltip:!0,onClick:n,"aria-haspopup":"true","aria-expanded":e,label:b.__("AI Muse Assistant","aimuse"),icon:d.jsx(Vt,{}),"aria-placeholder":b.__("AI Muse Assistant","aimuse"),onPointerEnter:()=>{},onPointerLeave:()=>{}}),renderContent:({onClose:e})=>d.jsx(Jo,{onClose:e,blockType:t})})}const ta=Pr.createHigherOrderComponent(t=>e=>{const{name:n}=e,r={group:"block"};return d.jsxs(d.Fragment,{children:[d.jsx(t,{...e}),d.jsx(se.BlockControls,{...r,children:d.jsx(ea,{blockType:n})})]})},"withMuseAITextAssistantToolbar");function na(t){const e=Ce.textdomain,n=H.getBlockSupport(t,e);return!n||!(n!=null&&n["content-generator"])||!xr(Ce.name)?t:{...t,edit:ta(t.edit)}}const ra=()=>{qt.addFilter("blocks.registerBlockType","aimuse/text-block-init-toolbar",na,100)};Vo(),Yo(),ra()})(wp.blocks,window.React,wp.blockEditor,wp.i18n,wp.data,wp.components,wp.apiFetch,window.ReactDOM,wp.hooks,wp.compose);
